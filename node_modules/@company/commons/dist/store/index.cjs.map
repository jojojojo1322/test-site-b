{"version":3,"sources":["../../src/store/toastStore.ts","../../src/store/ToastProvider.tsx","../../src/store/useToast.ts","../../src/store/modalStore.ts"],"names":["create","toast","useEffect","jsxs","Fragment","jsx","ToastContainer","useCallback","randomId"],"mappings":"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","file":"index.cjs","sourcesContent":["import { create } from \"zustand\";\nimport type { ToastOptions } from \"react-toastify\";\n\nconst randomId = () => `${Date.now().toString(36)}-${Math.random().toString(36).slice(2, 10)}`;\n\nexport type ToastVariant = \"default\" | \"info\" | \"success\" | \"warning\" | \"error\";\n\nexport type ToastPayload = {\n  id: string;\n  title?: string;\n  message: string;\n  variant: ToastVariant;\n  options?: ToastOptions;\n};\n\nexport type ToastInput = Omit<ToastPayload, \"id\" | \"variant\"> & {\n  id?: string;\n  variant?: ToastVariant;\n};\n\nexport interface ToastStoreState {\n  queue: ToastPayload[];\n  publish: (payload: ToastInput) => string;\n  consume: () => ToastPayload[];\n  clear: () => void;\n}\n\nexport const useToastStore = create<ToastStoreState>((set, get) => ({\n  queue: [],\n  publish: (payload) => {\n    const toast: ToastPayload = {\n      id: payload.id ?? randomId(),\n      variant: payload.variant ?? \"default\",\n      title: payload.title,\n      message: payload.message,\n      options: payload.options,\n    };\n\n    set((state) => ({ queue: [...state.queue, toast] }));\n    return toast.id;\n  },\n  consume: () => {\n    const queueSnapshot = get().queue;\n    if (queueSnapshot.length === 0) {\n      return [];\n    }\n    set({ queue: [] });\n    return queueSnapshot;\n  },\n  clear: () => set({ queue: [] }),\n}));\n","import { PropsWithChildren, useEffect } from \"react\";\nimport { toast, ToastContainer, type ToastContainerProps } from \"react-toastify\";\nimport { useToastStore, type ToastPayload, type ToastStoreState } from \"./toastStore\";\n\nimport \"react-toastify/dist/ReactToastify.css\";\n\nconst showToast = (payload: ToastPayload) => {\n  const { variant, message, title, options, id } = payload;\n  const decoratedMessage = title ? `${title}\\n${message}` : message;\n\n  switch (variant) {\n    case \"success\":\n      toast.success(decoratedMessage, { toastId: id, ...options });\n      break;\n    case \"error\":\n      toast.error(decoratedMessage, { toastId: id, ...options });\n      break;\n    case \"warning\":\n      toast.warning(decoratedMessage, { toastId: id, ...options });\n      break;\n    case \"info\":\n      toast.info(decoratedMessage, { toastId: id, ...options });\n      break;\n    default:\n      toast(decoratedMessage, { toastId: id, ...options });\n      break;\n  }\n};\n\nconst DEFAULT_CONTAINER_PROPS: ToastContainerProps = {\n  position: \"bottom-center\",\n  newestOnTop: true,\n  closeOnClick: true,\n  pauseOnHover: true,\n};\n\nexport type ToastProviderProps = PropsWithChildren<{\n  containerProps?: ToastContainerProps;\n}>;\n\nexport const ToastProvider = ({ children, containerProps }: ToastProviderProps) => {\n  useEffect(() => {\n    const unsubscribe = useToastStore.subscribe(\n      (state: ToastStoreState, prevState?: ToastStoreState) => {\n        if (state.queue === prevState?.queue) {\n          return;\n        }\n\n        const messages = useToastStore.getState().consume();\n        messages.forEach(showToast);\n      }\n    );\n\n    return unsubscribe;\n  }, []);\n\n  return (\n    <>\n      {children}\n      <ToastContainer {...DEFAULT_CONTAINER_PROPS} {...containerProps} />\n    </>\n  );\n};\n","import { useCallback } from \"react\";\nimport type { ToastOptions } from \"react-toastify\";\nimport { useToastStore, type ToastVariant } from \"./toastStore\";\n\ntype ToastMethod = (message: string, options?: ToastOptions) => string;\n\nconst createPublisher =\n  (variant: ToastVariant): ToastMethod =>\n  (message, options) =>\n    useToastStore.getState().publish({ message, options, variant });\n\nexport const useToast = () => {\n  const publish = useToastStore((state) => state.publish);\n  const clear = useToastStore((state) => state.clear);\n\n  const success = useCallback(createPublisher(\"success\"), []);\n  const error = useCallback(createPublisher(\"error\"), []);\n  const warning = useCallback(createPublisher(\"warning\"), []);\n  const info = useCallback(createPublisher(\"info\"), []);\n  const defaultToast = useCallback(createPublisher(\"default\"), []);\n\n  return {\n    publish,\n    success,\n    error,\n    warning,\n    info,\n    toast: defaultToast,\n    clear,\n  };\n};\n","import { create } from \"zustand\";\n\nexport interface ModalPayload<T extends Record<string, unknown> = Record<string, unknown>> {\n  id: string;\n  type: string;\n  props?: T;\n}\n\nexport interface ModalStoreState<T extends Record<string, unknown> = Record<string, unknown>> {\n  current: ModalPayload<T> | null;\n  open: (payload: Omit<ModalPayload<T>, \"id\"> & { id?: string }) => string;\n  close: () => void;\n}\n\nconst randomId = () => `${Date.now().toString(36)}-${Math.random().toString(36).slice(2, 10)}`;\n\nexport const useModalStore = create<ModalStoreState>((set) => ({\n  current: null,\n  open: (payload) => {\n    const modalPayload: ModalPayload = {\n      id: payload.id ?? randomId(),\n      type: payload.type,\n      props: payload.props,\n    };\n    set({ current: modalPayload });\n    return modalPayload.id;\n  },\n  close: () => set({ current: null }),\n}));\n"]}