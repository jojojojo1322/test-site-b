{
  "version": 3,
  "sources": ["../../@company/commons/src/store/toastStore.ts", "../../@company/commons/src/store/ToastProvider.tsx", "../../@company/commons/src/store/useToast.ts"],
  "sourcesContent": ["import { create } from \"zustand\";\nimport type { ToastOptions } from \"react-toastify\";\n\nconst randomId = () => `${Date.now().toString(36)}-${Math.random().toString(36).slice(2, 10)}`;\n\nexport type ToastVariant = \"default\" | \"info\" | \"success\" | \"warning\" | \"error\";\n\nexport type ToastPayload = {\n  id: string;\n  title?: string;\n  message: string;\n  variant: ToastVariant;\n  options?: ToastOptions;\n};\n\nexport type ToastInput = Omit<ToastPayload, \"id\" | \"variant\"> & {\n  id?: string;\n  variant?: ToastVariant;\n};\n\nexport interface ToastStoreState {\n  queue: ToastPayload[];\n  publish: (payload: ToastInput) => string;\n  consume: () => ToastPayload[];\n  clear: () => void;\n}\n\nexport const useToastStore = create<ToastStoreState>((set, get) => ({\n  queue: [],\n  publish: (payload) => {\n    const toast: ToastPayload = {\n      id: payload.id ?? randomId(),\n      variant: payload.variant ?? \"default\",\n      title: payload.title,\n      message: payload.message,\n      options: payload.options,\n    };\n\n    set((state) => ({ queue: [...state.queue, toast] }));\n    return toast.id;\n  },\n  consume: () => {\n    const queueSnapshot = get().queue;\n    if (queueSnapshot.length === 0) {\n      return [];\n    }\n    set({ queue: [] });\n    return queueSnapshot;\n  },\n  clear: () => set({ queue: [] }),\n}));\n", "import { PropsWithChildren, useEffect } from \"react\";\nimport { toast, ToastContainer, type ToastContainerProps } from \"react-toastify\";\nimport { useToastStore, type ToastPayload, type ToastStoreState } from \"./toastStore\";\n\nimport \"react-toastify/dist/ReactToastify.css\";\n\nconst showToast = (payload: ToastPayload) => {\n  const { variant, message, title, options, id } = payload;\n  const decoratedMessage = title ? `${title}\\n${message}` : message;\n\n  switch (variant) {\n    case \"success\":\n      toast.success(decoratedMessage, { toastId: id, ...options });\n      break;\n    case \"error\":\n      toast.error(decoratedMessage, { toastId: id, ...options });\n      break;\n    case \"warning\":\n      toast.warning(decoratedMessage, { toastId: id, ...options });\n      break;\n    case \"info\":\n      toast.info(decoratedMessage, { toastId: id, ...options });\n      break;\n    default:\n      toast(decoratedMessage, { toastId: id, ...options });\n      break;\n  }\n};\n\nconst DEFAULT_CONTAINER_PROPS: ToastContainerProps = {\n  position: \"bottom-center\",\n  newestOnTop: true,\n  closeOnClick: true,\n  pauseOnHover: true,\n};\n\nexport type ToastProviderProps = PropsWithChildren<{\n  containerProps?: ToastContainerProps;\n}>;\n\nexport const ToastProvider = ({ children, containerProps }: ToastProviderProps) => {\n  useEffect(() => {\n    const unsubscribe = useToastStore.subscribe(\n      (state: ToastStoreState, prevState?: ToastStoreState) => {\n        if (state.queue === prevState?.queue) {\n          return;\n        }\n\n        const messages = useToastStore.getState().consume();\n        messages.forEach(showToast);\n      }\n    );\n\n    return unsubscribe;\n  }, []);\n\n  return (\n    <>\n      {children}\n      <ToastContainer {...DEFAULT_CONTAINER_PROPS} {...containerProps} />\n    </>\n  );\n};\n", "import { useCallback } from \"react\";\nimport type { ToastOptions } from \"react-toastify\";\nimport { useToastStore, type ToastVariant } from \"./toastStore\";\n\ntype ToastMethod = (message: string, options?: ToastOptions) => string;\n\nconst createPublisher =\n  (variant: ToastVariant): ToastMethod =>\n  (message, options) =>\n    useToastStore.getState().publish({ message, options, variant });\n\nexport const useToast = () => {\n  const publish = useToastStore((state) => state.publish);\n  const clear = useToastStore((state) => state.clear);\n\n  const success = useCallback(createPublisher(\"success\"), []);\n  const error = useCallback(createPublisher(\"error\"), []);\n  const warning = useCallback(createPublisher(\"warning\"), []);\n  const info = useCallback(createPublisher(\"info\"), []);\n  const defaultToast = useCallback(createPublisher(\"default\"), []);\n\n  return {\n    publish,\n    success,\n    error,\n    warning,\n    info,\n    toast: defaultToast,\n    clear,\n  };\n};\n"],
  "mappings": "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",
  "names": ["toast"]
}
